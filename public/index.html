<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Node.js Knockout</title>
    <style type="text/css">
      body {
        font-family: "helvetica neue", helvetica, arial, sans-serif;
        font-size: 18px;
        font-weight: 300;
        padding: 0px;
        margin: 0px;
        text-align: center;
        text-rendering: optimizeLegibility;
      }

      footer, header, menu, nav, section, time {
        display:block;
      }

      #logo {
        color: transparent;
        background: url('/images/logo.png') no-repeat scroll center center;
        font-size: xx-large;
        height: 232px;
      }

      #nko-start {
        font-family: 'Permanent Marker';
        font-size: 64px;
      }

      footer ul {
        padding: 0;
      }
      footer li {
        display: inline-block;
        margin-left: 0.25em;
      }
    </style>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-16773586-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <link href='http://fonts.googleapis.com/css?family=Permanent+Marker' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <header>
      <h1 id="logo">Node.js Knockout</h1>
    </header>

    <p id="about">
      Node.js Knockout is a 48-hour coding contest using
      <a href="http://nodejs.org">node.js</a>.
    </p>

    <p id="when">
      Node.js Knockout 2011 will be
      <time id="nko-start" datetime="2011-08-27T00:00:00Z">
      August 27-28, 2011
      </time>
      <span id="countdown"></span>
    </p>

    <p id="more">
      What do I do until then?
      <a href="http://2010.nodeknockout.com">See last year's winners</a>
      or
      <a href="http://twitter.com/node_knockout">follow us on Twitter</a>.
    </p>

    <footer>
      <ul>
        <li class="twitter"><a href="http://twitter.com/node_knockout">@node_knockout</a></li>
        <li class="email"><a href="mailto:all@nodeknockout.com">all@nodeknockout.com</a></li>
        <li class="blog"><a href="http://nodeknockout.posterous.com">blog</a></li>
        <li class="2010"><a href="http://2010.nodeknockout.com">2010</a></li>
      </ul>
    </footer>

    <!-- javascript -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>

    <script type="text/javascript">
      $(function() {
        var parts, start;
        parts = $('#nko-start').attr('datetime').split(/[-:TZ]/);
        parts[1]--; // js dates :(
        start = Date.UTC.apply(null, parts);

        $('#countdown').each(function() {
          var $this = $(this);
          (function tick() {
            $this.html(countdownify((start - (new Date)) / 1000));
            return setTimeout(tick, 1000);
          })();

          function countdownify(secs) {
            var names = ['day', 'hour', 'minute', 'second'];
            return $.map([secs / 86400, secs % 86400 / 3600, secs % 3600 / 60, secs % 60], function(num, i) {
              return [Math.floor(num), pluralize(names[i], num)];
            }).join(' ');
          }

          function pluralize(str, count) {
            return str + (parseInt(count) !== 1 ? 's' : '');
          }
        });
      });
    </script>

  </body>
</html>
