#!/usr/bin/env ruby

require 'rubygems'
require 'active_support'
require 'mongo'
require 'json'

# db = Mongo::Connection.new("localhost", 27017).db("mydb")
# db.authenticate(my_user_name, my_password)

db = Mongo::Connection.new.db "nodeknockout"
@db_vote = db.collection 'Vote'

while l = DATA.gets
  team_id, person_id = l.split("\t").map { |s| JSON.parse(s)['$oid'] }
  puts "db.Vote.update({'team._id': ObjectId('#{team_id}'), 'person._id': ObjectId('#{person_id}') }, {'$set': {confirmed: false}})"
  #puts "http://localhost:8000/people/#{person_id}"
end

#team._id	person._id
__END__
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7ae3e6c82de7f150000014" }
{ "$oid" : "2d2d224c00610ff11b430000" }	{ "$oid" : "4c7be45f6493f4911c00008c" }
{ "$oid" : "4c77d0702c84a9c932000013" }	{ "$oid" : "4c7bf9bad986870c1700002c" }
{ "$oid" : "2d2d224c00610ff11b430000" }	{ "$oid" : "4c7bf9bad986870c1700002c" }
{ "$oid" : "b04b4d4c52010590070b0000" }	{ "$oid" : "4c7bf9bad986870c1700002c" }
{ "$oid" : "c5862f4c8ac8024319030000" }	{ "$oid" : "4c7bf9bad986870c1700002c" }
{ "$oid" : "99cd1a4cce3909ec0f070000" }	{ "$oid" : "4c7bf9bad986870c1700002c" }
{ "$oid" : "d92f1c4c3e21077841020000" }	{ "$oid" : "4c7c3ba02fc50c2f67000009" }
{ "$oid" : "8531484c7fca0b1851020000" }	{ "$oid" : "4c7c3ba02fc50c2f67000009" }
{ "$oid" : "8d5d3b4c1ec2091423020000" }	{ "$oid" : "4c7c3ba02fc50c2f67000009" }
{ "$oid" : "01c84d4c9b7e059007240000" }	{ "$oid" : "4c7c3ba02fc50c2f67000009" }
{ "$oid" : "56a81a4ca4d70a044a1e0000" }	{ "$oid" : "4c7c3ba02fc50c2f67000009" }
{ "$oid" : "cb16224c6d2203f11b3a0000" }	{ "$oid" : "4c7d00a0da7613c56b0000f5" }
{ "$oid" : "b32c604c380304b972040000" }	{ "$oid" : "4c7d00a0da7613c56b0000f5" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7d4a7ec35b3dbe110000e7" }
{ "$oid" : "7ccb1a4ccb4002ec0f050000" }	{ "$oid" : "4c7e98b48c84253d28000005" }
{ "$oid" : "99cd1a4cce3909ec0f070000" }	{ "$oid" : "4c7eb705f15cb0465f000068" }
{ "$oid" : "11462d4c63a5124a430b0000" }	{ "$oid" : "4c7eb705f15cb0465f000068" }
{ "$oid" : "4c7869ac500d06a32a000001" }	{ "$oid" : "4c7eb705f15cb0465f000068" }
{ "$oid" : "9a7d224c0c09028c6a150000" }	{ "$oid" : "4c7eb705f15cb0465f000068" }
{ "$oid" : "68cd2c4cf78d03242f030000" }	{ "$oid" : "4c7eb8de2ca9775234000002" }
{ "$oid" : "249e1a4ca1d812044a0e0000" }	{ "$oid" : "4c7eb8de2ca9775234000002" }
{ "$oid" : "0ba0234cdb5a08064c0d0000" }	{ "$oid" : "4c7eb8de2ca9775234000002" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7ed6452ca97752340000d7" }
{ "$oid" : "b04b4d4c52010590070b0000" }	{ "$oid" : "4c7ed6452ca97752340000d7" }
{ "$oid" : "0ba0234cdb5a08064c0d0000" }	{ "$oid" : "4c7ed6452ca97752340000d7" }
{ "$oid" : "3b952c4c04c209761f1b0000" }	{ "$oid" : "4c7ed6452ca97752340000d7" }
{ "$oid" : "8531484c7fca0b1851020000" }	{ "$oid" : "4c7ed6452ca97752340000d7" }
{ "$oid" : "249e1a4ca1d812044a0e0000" }	{ "$oid" : "4c7ed6452ca97752340000d7" }
{ "$oid" : "b04b4d4c52010590070b0000" }	{ "$oid" : "4c7edcad2ca97752340000f7" }
{ "$oid" : "3b952c4c04c209761f1b0000" }	{ "$oid" : "4c7edcad2ca97752340000f7" }
{ "$oid" : "8f9f1a4c9ede00044a170000" }	{ "$oid" : "4c7edcad2ca97752340000f7" }
{ "$oid" : "249e1a4ca1d812044a0e0000" }	{ "$oid" : "4c7edcad2ca97752340000f7" }
{ "$oid" : "87df454c267a06883c070000" }	{ "$oid" : "4c7edcad2ca97752340000f7" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7f3d864310c09968000017" }
{ "$oid" : "bf82354c9b8a0ad411090000" }	{ "$oid" : "4c7f564e4310c099680000c8" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7f64264310c09968000110" }
{ "$oid" : "f971604c882813b9720a0000" }	{ "$oid" : "4c7f64264310c09968000110" }
{ "$oid" : "31e3494cdb5c04763a050000" }	{ "$oid" : "4c7f64264310c09968000110" }
{ "$oid" : "56ee1d4cc25b099815040000" }	{ "$oid" : "4c7f66614310c09968000129" }
{ "$oid" : "e849224c9aa2049a6a050000" }	{ "$oid" : "4c7f66614310c09968000129" }
{ "$oid" : "c5862f4c8ac8024319030000" }	{ "$oid" : "4c7f66614310c09968000129" }
{ "$oid" : "fcdb464c561d1246780e0000" }	{ "$oid" : "4c7f66614310c09968000129" }
{ "$oid" : "b32c604c380304b972040000" }	{ "$oid" : "4c7f66614310c09968000129" }
{ "$oid" : "5f4c224c62ce079a6a0a0000" }	{ "$oid" : "4c7f66614310c09968000129" }
{ "$oid" : "52ad1a4c495003044a260000" }	{ "$oid" : "4c7facd14310c09968000263" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7facd14310c09968000263" }
{ "$oid" : "0ba0234cdb5a08064c0d0000" }	{ "$oid" : "4c7facd14310c09968000263" }
{ "$oid" : "b04b4d4c52010590070b0000" }	{ "$oid" : "4c7facd14310c09968000263" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7fd44503add0cb200000ea" }
{ "$oid" : "37df1a4c63ca1134280a0000" }	{ "$oid" : "4c7fd44503add0cb200000ea" }
{ "$oid" : "52ad1a4c495003044a260000" }	{ "$oid" : "4c7fd44503add0cb200000ea" }
{ "$oid" : "0ba0234cdb5a08064c0d0000" }	{ "$oid" : "4c7fd44503add0cb200000ea" }
{ "$oid" : "249e1a4ca1d812044a0e0000" }	{ "$oid" : "4c7fd44503add0cb200000ea" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7feb4003add0cb200001b3" }
{ "$oid" : "52ad1a4c495003044a260000" }	{ "$oid" : "4c7feb4003add0cb200001b3" }
{ "$oid" : "52ad1a4c495003044a260000" }	{ "$oid" : "4c7fed1a03add0cb200001c8" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7fed1a03add0cb200001c8" }
{ "$oid" : "f971604c882813b9720a0000" }	{ "$oid" : "4c7fed1a03add0cb200001c8" }
{ "$oid" : "31e3494cdb5c04763a050000" }	{ "$oid" : "4c7fed1a03add0cb200001c8" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c7ffa1b03add0cb200002b2" }
{ "$oid" : "52ad1a4c495003044a260000" }	{ "$oid" : "4c802b0424c3a33972000151" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c802b0424c3a33972000151" }
{ "$oid" : "f971604c882813b9720a0000" }	{ "$oid" : "4c802b0424c3a33972000151" }
{ "$oid" : "31e3494cdb5c04763a050000" }	{ "$oid" : "4c802b0424c3a33972000151" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c8032ee24c3a339720001a8" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c80370324c3a33972000212" }
{ "$oid" : "c3834b4cd6b40e78580b0000" }	{ "$oid" : "4c80385624c3a33972000236" }
